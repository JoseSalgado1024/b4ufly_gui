<agm-map class="layer-background" [latitude]="lat" [longitude]="lng" [zoom]="zoom" (zoomChange)="getAirportsData()"
         [styles]='[{"elementType":"geometry","stylers":[{"color":"#ebe3cd"}]},{"elementType":"labels","stylers":[{"visibility":"off"}]},{"elementType":"labels.text.fill","stylers":[{"color":"#523735"}]},{"elementType":"labels.text.stroke","stylers":[{"color":"#f5f1e6"}]},{"featureType":"administrative","elementType":"geometry.stroke","stylers":[{"color":"#c9b2a6"}]},{"featureType":"administrative.land_parcel","stylers":[{"visibility":"off"}]},{"featureType":"administrative.land_parcel","elementType":"geometry.stroke","stylers":[{"color":"#dcd2be"}]},{"featureType":"administrative.land_parcel","elementType":"labels.text.fill","stylers":[{"color":"#ae9e90"}]},{"featureType":"administrative.neighborhood","stylers":[{"visibility":"off"}]},{"featureType":"landscape.natural","elementType":"geometry","stylers":[{"color":"#dfd2ae"}]},{"featureType":"poi","elementType":"geometry","stylers":[{"color":"#dfd2ae"}]},{"featureType":"poi","elementType":"labels.text.fill","stylers":[{"color":"#93817c"}]},{"featureType":"poi.park","elementType":"geometry.fill","stylers":[{"color":"#a5b076"}]},{"featureType":"poi.park","elementType":"labels.text.fill","stylers":[{"color":"#447530"}]},{"featureType":"road","elementType":"geometry","stylers":[{"color":"#f5f1e6"}]},{"featureType":"road.arterial","elementType":"geometry","stylers":[{"color":"#fdfcf8"}]},{"featureType":"road.highway","elementType":"geometry","stylers":[{"color":"#f8c967"}]},{"featureType":"road.highway","elementType":"geometry.stroke","stylers":[{"color":"#e9bc62"}]},{"featureType":"road.highway.controlled_access","elementType":"geometry","stylers":[{"color":"#e98d58"}]},{"featureType":"road.highway.controlled_access","elementType":"geometry.stroke","stylers":[{"color":"#db8555"}]},{"featureType":"road.local","elementType":"labels.text.fill","stylers":[{"color":"#806b63"}]},{"featureType":"transit.line","elementType":"geometry","stylers":[{"color":"#dfd2ae"}]},{"featureType":"transit.line","elementType":"labels.text.fill","stylers":[{"color":"#8f7d77"}]},{"featureType":"transit.line","elementType":"labels.text.stroke","stylers":[{"color":"#ebe3cd"}]},{"featureType":"transit.station","elementType":"geometry","stylers":[{"color":"#dfd2ae"}]},{"featureType":"water","elementType":"geometry.fill","stylers":[{"color":"#b9d3c2"},{"weight":2}]},{"featureType":"water","elementType":"geometry.stroke","stylers":[{"color":"#507e60"},{"lightness":-5},{"visibility":"on"},{"weight":5.5}]},{"featureType":"water","elementType":"labels.text.fill","stylers":[{"color":"#92998d"}]}]'>

  <agm-marker [latitude]="lat" [longitude]="lng" [iconUrl]="liftoff_time_icon" [markerDraggable]="true" (dragEnd)="pickPosition($event)"></agm-marker>

  <!-- AIRPORTS -->
  <agm-marker *ngFor="let airport of airports"
              [latitude]="airport.lat"
              [longitude]="airport.lng"
              [iconUrl]="'assets/default-theme/icons_dot-theme-mark-tiny.png'">
    <agm-info-window>
      <div>
        <strong>"{{ airport.name }}"</strong>
      </div>
    </agm-info-window>
    <!-- 43mts zones -->
    <agm-circle [latitude]="airport.lat" [longitude]="airport.lng" [fillColor]="'orange'" [fillOpacity]="'0.01'"
                [fillOpacity]="'0.1'" [strokeOpacity]="1" [strokePosition]="0" [strokeWeight]="2" [strokeColor]="'orange'"
                [radius]="near_airports_warning_distance">
    </agm-circle>
    <!-- restricted zones -->
    <agm-circle [latitude]="airport.lat" [longitude]="airport.lng" [fillColor]="'red'"
                [fillOpacity]="'0.1'" [strokeOpacity]="1" [strokePosition]="0" [strokeWeight]="2" [strokeColor]="'red'"
                [radius]="near_airports_denied_distance">
    </agm-circle>
  </agm-marker>
</agm-map>
<!-- LOADING  -->
<div class="layer loading-layer" *ngIf="is_loading">
  <div class="single-card">
      <h1>CARGANDO DATOS</h1>
      <img src="assets/default-theme/loading.gif" alt="CARGANDO" >
  </div>

</div>
<!-- END LOADING  -->

<!-- FLIGHT CAPABILITY  -->
<div class="layer info-layer" *ngIf="!informed && !is_loading">
    <div class="single-card-fc">
      <ng-container [ngSwitch]="can_fly">
          <h1 *ngSwitchCase=0>A volar!</h1>
          <h1 *ngSwitchCase=1>Podes volar, pero con resticciones</h1>
          <h1 *ngSwitchCase=2>No es posible volar ahi</h1>
      </ng-container>
      <button class="flight-status-{{ can_fly }}" (click)="i_was_informed()">Ok, entiendo</button>
    </div>

  </div>
  <!-- END FC  -->

<router-outlet></router-outlet>
